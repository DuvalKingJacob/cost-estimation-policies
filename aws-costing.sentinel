import "tfrun"
import "decimal"

# Get the cost. If the data is missing/glitchy (null), 
monthly_cost = func() {
    if tfrun.cost_estimate is null {
        return 1000.0
    }
    # (Optional) Handle nested nulls if needed, same logic
    return tfrun.cost_estimate.proposed_monthly_cost else 1000.0
}()

print("Calculated Monthly Cost: " + string(monthly_cost))

# The Law: Must be less than $100
main = rule {
    decimal.new(monthly_cost).less_than(100)
}